websocket {
        port: 8080
        no_tls: true
}

# Basic authorization with a permissive default user and a limited user to exercise permission tests.
# Existing tests that do not supply credentials continue to work via no_auth_user.
authorization: {
    users: [
        { user: full, pass: full, permissions: { publish: { allow: [">"] }, subscribe: { allow: [">"] } } },
        { user: limited, pass: limited, permissions: { publish: { allow: ["pub.allowed.>"] }, subscribe: { allow: ["sub.allowed.>"] } } }
    ]
    default_permissions: {
        publish: { deny: ["pub.forbidden.>"] }
        subscribe: { deny: ["sub.forbidden.>"] }
    }
}

# Map unauthenticated connections to the full user (for older server versions that require top-level no_auth_user).
no_auth_user: full